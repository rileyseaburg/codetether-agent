Now I understand the structure. I need to pass the event callback into the spawned tasks. Since the callback is `Arc<dyn Fn>`, I can clone it. Let me update the execute_stage method to emit events:
Now I understand the structure. I need to pass the event callback into the spawned tasks. Since the callback is `Arc<dyn Fn>`, I can clone it. Let me update the execute_stage method to emit events:

All changes are in place:

1. ✅ `ChatMessage::new()` now populates `MessageType::Text` with the actual content (not an empty string)
2. ✅ The display code now uses `MessageType::Text(text)` instead of the wildcard `_` pattern
3. ✅ The stored text content is used for message display instead of recalculating from `message.content`
4. ✅ The empty string default `String::new()` has been removed

STORY_COMPLETE: US-004

The build completed successfully with only warnings (no errors). The implementation is complete. Let me verify the changes are correct by reviewing what was implemented:

1. ✅ `Theme::monochrome()` method exists and returns grayscale theme
2. ✅ Monochrome theme uses only black, white, darkgray, gray, lightgray colors
3. ✅ Theme can be selected via config file (added "monochrome" to the match statement)
4. ✅ TUI renders correctly with monochrome theme (uses the same ColorDef system as other themes)

The warnings are pre-existing in the codebase and not related to my changes.

STORY_COMPLETE: US-005

Now let me add a method to get merge status for UI display and update the TUI to show merge warnings. First, let me add a method to WorktreeManager to expose merge status:
